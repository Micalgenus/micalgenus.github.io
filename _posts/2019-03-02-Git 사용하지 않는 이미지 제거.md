---
layout: post
title: Docker 사용하지 않는 이미지 제거
categories: [Docker]
comments: true
---

Docker를 사용하다 보면 이미지가 계속 쌓이게 된다.

특히 예전에 사용하던 이미지들이 쌓이면서 용량이 부족해지는 경우가 생기는데, 아래 명령을 통해 지울 수 있다.

{% highlight bash %}
$ docker rmi $(docker images -a -q)
{% endhighlight %}

`$(docker images -a -q)`를 통해 현재 저장되어 있는 이미지들을 전부 얻는다. 그리고 **rmi**명령으로 지우는데, 실행중인 컨테이너가 있을 경우에는 에러가 발생하여 삭제가 안된다.

해당 이미지를 사용하지 않고 있을 경우에는 삭제가 정상적으로 이루어지기 때문에, 불필요한 이미지를 지우기 위해서 해당 명령으로 간편하게 정리할 수 있다.

{% highlight bash %}
$ docker images -a # 모든 이미지
$ docker ps --format {{.Image}} # 컨테이너에 실행중인 이미지
$ docker ps -a --format {{.Image}} # 정지된 이미지도 함께 표시
{% endhighlight %}

위 명령을 통해 사용중인 이미지들을 알 수 있다.